sudo: false
language: generic

# Caching so the next build will be fast too.
cache:
  directories:
  - $HOME/.stack

before_install:
  - curl -sSL https://get.haskellstack.org/ | sh
  - stack --version

install:
  - stack build --test --bench --only-dependencies

script:
  - stack test

deploy:
  provider: hackage
  username: "AlexKane"
  password:
    secure: "U34maQRbtTq5MlkasL2LZbm33NqE2DxgfAkR5ABGUVDw6wy32wUQnpbiPE7J4p1TBypA8tq8IwKy2w2cLDclD4+yCXAY/zEviuMNxs1jvDJ4Mw+O7E4xRPxVi+1SDoE2D+aLndVaaKxABmZDKamtwNjX97EkknYPi4bluUPxXPnEzOOHh4cW8tTXCAl4MpMDI1faIp4BKFVVmZL6h3gdWTU+ysKTpL2ehV9U96PZhktXJKwgYB2YhJiOGISfdmDAchC0K+HBVIYBNJ4eWhUAgTMdmhZ/Jjb62YnuB9zrN9pRhg6Xd6VhiOdw64X3Z1k4yb+y0JY64atP2noVDxgpdwAkgeLGpPR2R/XdwYo1yvCdVU/7P2xvk/TgVrtwd9OIwHoJ1UKOHYtMOYCe4eJQg7y1QrClHSCxlEhGdlR3XqqolfciG0oEndGsSpUE7M5jkyacO7OyHyq8YdsB49oqVWHc9xEBJ3vk3+BNgW95ZA1FnqIDtM+TLREbyfu1GDUl8LHrYSLc7w51hLXDLkF5zWUU+RlnptHarQkKTGjYgtTVqy0ocvx/RQdwJbkAgGBK342hhbtttQUu2gwEBPm8QmyBXi5K4NToDlWo5pzteXB7V4+daSuBYw5s0uMwFgghRfk0VESWdpwsybldY4D2D2mr7RoSSUs+KEUI1gtDdHY="
  on:
    tags: true
